# Подглава 11.5 Прямая и обратная кинематика руки

Используя базовую тригонометрию, относительно просто вычислить положение руки или gripper в пространстве, когда мы знаем длину links \(частей робота\) и углы joints между ними. Это называется _прямой кинематикой_ руки и часто сокращается до _FK_. Однако, если нам дадут желаемую позу end-effector в пространстве и попросят вычислить набор совместных значений, которые будут помещать его в эту позу, возникнут проблемы: в этом случае мы должны вычислить _обратную кинематику_ \(IK\) руки. Алгоритм, который вычисляет обратную кинематику, называется solver обратной кинематики или просто _IK-solver._

В зависимости от количества joints в руке \(его степеней свободы\) данный расчет обратной кинематики может иметь одно решение, не иметь решения, более одного решения или, возможно, даже бесконечное число решений. Рассмотрим, например, четыре ситуации, показанные ниже, где мы представляем плоскую руку, пытающуюся достичь места цели, указанного звездой.

![](.gitbook/assets/image%20%2822%29.png)

На первых трех изображениях рука имеет два вращающихся сустава и, следовательно, две степени свободы. Расположение цели также требует двух значений, а именно ее координат x и y на плоскости. В ситуациях, подобных \(а\), рука обычно имеет два обратных кинематических решения \(иногда называемые «локтем вверх» и «локтем вниз»\). Однако, если сустав имеет ограниченный диапазон движения, как показано в \(b\), тогда только одно из этих решений может фактически быть реализовано рукой. Если цель недостижима, как показано в \(с\), то нет никаких решений. В \(d\) мы добавляем третий сустав, так что теперь рука имеет дополнительную степень свободы. Как и следовало ожидать, это открывает дополнительные решения.

Все становится еще сложнее, когда мы добавляем ограничения, такие как наличие препятствий. Если потенциальное решение может привести к столкновению какой-либо части руки с препятствием, то это решение должно быть устранено. Кинематический solver, который может включать ограничения, должен осознавать ограничения. Ограничения также могут быть указаны с точки зрения положения и ориентации end-effector. Например, если робот должен перемещать открытый контейнер с жидкостью из одного места на столе в другое, то рычаг должен перемещаться так, чтобы ориентация захвата удерживала контейнер от опрокидывания. MoveIt! делает этот тип проблем относительно легко решаемым.

