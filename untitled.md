# Глава 11 Ручная навигация с использованием MoveIt!

Относительно легко добавить руку роботу, но гораздо сложнее заставить его сделать что-то полезное. Человеку довольно просто дотянуться до объекта в пространстве, даже если он окружен соседними препятствиями. Однако оказывается, что контроль таких движений является сложной математической проблемой, когда мы пытаемся запрограммировать робота для выполнения аналогичных действий.

К счастью для нас, ROS предоставляет все инструменты, которые нужны для программирования многосуставной руки на выполнение сложных задач, таких как достижение и схватывание объектов в реальных условиях. Захват или кисть, прикрепленная к концу руки, называется _end-effector_, а общая проблема перемещения end-effector в заданное положение и ориентация в пространстве при избегании препятствий называется _ручная навигация_. Также принято называть руку робота _манипулятором_, и, когда рука прикреплена к мобильному роботу, мы часто будем использовать термин _мобильная манипуляция_.

Наиболее распространенная цель в ручной навигации — это перемещение end-effector в целевое положение и его ориентация в пространстве. Если рука включает в себя захват или зажим, называемый gripper, или иное подобие кисти, мы можем также _захватить_ объект в целевом местоположении и переместить его куда-нибудь. Такая задача называется _pick-and-place_. 

Новый мощный пакет ROS под названием MoveIt! затрагивает практически все аспекты мобильной манипуляции, включая планирование движения, кинематику, проверку столкновения, pick-and-place и восприятие.

Первоначально разработанный в Willow Garage и теперь поддерживаемый SRI International, MoveIt! все еще активно разрабатывается, и не все его функции завершены или полностью документированы. Поэтому цель этой главы состоит в том, чтобы представить ряд фундаментальных операций с использованием простых для понимания примеров кода. Однако, чтобы изучить API MoveIt! во всей его глубине, потребовался бы весь его собственный том, так что мы сможем рассмотреть его лишь поверхностно.

Прежде чем мы углубимся в примеры, нам нужно затронуть несколько основных тем. Если вы уже знакомы с базовой терминологией, используемой в ручной навигации, включая степени свободы, типы соединений ROS, называемых joints, а также прямую и обратную кинематику, не стесняйтесь пропустить.

В этой главе мы будем использовать MoveIt! для выполнения четырех наиболее распространенных задач по навигации:

* Перемещение руки в заданную joint-конфигурацию с использованием прямой кинематики
* Перемещение end-effector в заданную декартову позу \(положение и ориентация\) с использованием обратной кинематики
* Перемещение руки при наличии препятствий и ограничений пути
* Выполнение операции захвата и размещения, когда рука использует свой servos 
* Gripper, чтобы захватить объект и переместить его в другое место

Но, прежде чем мы приступим к выполнению этих задач, нам необходимо разложить все по полочкам.

